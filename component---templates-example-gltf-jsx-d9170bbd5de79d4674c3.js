(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3oFX":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return P}));var r=n("B5uF"),i=(n("6Ooe"),n("Ljh3"),n("kaKw"),n("q1tI")),o=n.n(i),a=n("NKOs");var s=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).state={isExpanded:!1},n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){var t=this,e=this.props,n=e.title,r=e.children,i=e.sourceLink,s=this.state.isExpanded;return o.a.createElement(a.f,null,o.a.createElement(a.i,{onClick:function(){return t.setState({isExpanded:!s})}},o.a.createElement("div",null,n),o.a.createElement(a.h,{$expanded:s},s?"✕":"i")),o.a.createElement(a.g,{$expanded:s},r),o.a.createElement(a.j,{$expanded:s,href:i,target:"_new"},"View Code ↗"))},r}(i.PureComponent),c=(n("7yFj"),n("8mkv")),u=n("vOnD");var l=null,p=u.c.div.withConfig({displayName:"github-contributors__ContribContainer",componentId:"sc-12w0yk9-0"})(["display:flex;flex-wrap:wrap;justify-content:center;"]),f=u.c.a.withConfig({displayName:"github-contributors__ContribLink",componentId:"sc-12w0yk9-1"})(["margin:10px;display:inline-block;width:6rem;height:8rem;text-decoration:none;text-align:center;color:",";&:hover img{border:4px solid #fff;box-shadow:0 0 20px hsla(0,0%,0%,0.3);opacity:1;}"],(function(t){return t.theme.colors.mono900})),h=u.c.img.withConfig({displayName:"github-contributors__ContribImage",componentId:"sc-12w0yk9-2"})(["border-radius:50%;border:4px solid transparent;box-shadow:0 0 0 hsla(0,0%,0%,0.3);transition:border 0.5s,box-shadow 0.5s;opacity:0.9;"]),m=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).state={response:l},n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var t=this;if(!l){var e=this.props.project;fetch("https://api.github.com/repos/"+e+"/contributors").then((function(t){return t.json()})).then((function(e){l=e,t.setState({response:e})}))}},i.render=function(){var t=this.state.response,e=Array.isArray(t)?t:[];return o.a.createElement("div",null,o.a.createElement("h2",{style:{textAlign:"center"}},"Contributors"),o.a.createElement(p,null,e.map((function(t){return t&&o.a.createElement(f,{target:"_blank",rel:"noopener noreferrer",href:t.html_url,key:t.id},o.a.createElement(h,{src:t.avatar_url,width:"100%",alt:t.login}),o.a.createElement("div",null,t.login))}))))},r}(i.Component),d=n("Wbzz"),v=n("k3Yn"),g=u.c.section.withConfig({displayName:"home__Banner",componentId:"f9hbqs-0"})(["position:relative;height:30rem;background:",";color:",";z-index:0;","{height:80vh;}"],(function(t){return t.theme.colors["dark"===t.colortheme?"mono900":"mono400"]}),(function(t){return t.theme.colors["dark"===t.colortheme?"mono100":"mono900"]}),v.d),y=u.c.div.withConfig({displayName:"home__Container",componentId:"f9hbqs-1"})(["position:relative;padding:2rem;max-width:80rem;width:100%;height:100%;margin:0;"]),b=Object(u.c)(y).withConfig({displayName:"home__BannerContainer",componentId:"f9hbqs-2"})(["position:absolute;bottom:0;height:auto;padding-left:4rem;z-index:0;pointer-events:none;"]),w=u.c.div.withConfig({displayName:"home__HeroExampleContainer",componentId:"f9hbqs-3"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;"]),x=u.c.section.withConfig({displayName:"home__Section",componentId:"f9hbqs-4"})(["&:nth-child(2n+1){background:#E8E8E8;}"]),_=u.c.h1.withConfig({displayName:"home__ProjectName",componentId:"f9hbqs-5"})(["font-size:5em;line-height:1;text-transform:uppercase;letter-spacing:4px;font-weight:700;margin:0;margin-bottom:16px;"]),E=Object(u.c)(d.a).withConfig({displayName:"home__GetStartedLink",componentId:"f9hbqs-6"})(["pointer-events:all;font-size:12px;line-height:44px;letter-spacing:2px;font-weight:bold;margin:24px 0;padding:0 4rem;pointer-events:all;display:inline-block;text-decoration:none;transition:background-color 250ms ease-in,color 250ms ease-in;border:solid 2px ",";color:",";border-image:linear-gradient(to right,"," 0%,"," 100%);border-image-slice:2;&:visited{color:",";}&:active{color:",";}&:hover{color:",";background-color:",";}"],(function(t){return t.theme.colors.primary400}),(function(t){return t.theme.colors["dark"===t.colortheme?"mono100":"mono900"]}),(function(t){return t.theme.colors["dark"===t.colortheme?"primary400":"primary700"]}),(function(t){return t.theme.colors["dark"===t.colortheme?"primary100":"primary400"]}),(function(t){return t.theme.colors["dark"===t.colortheme?"mono100":"mono900"]}),(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.colors.primary400})),O=u.c.footer.withConfig({displayName:"home__Footer",componentId:"f9hbqs-7"})(["position:absolute;bottom:-$footer-height;width:100%;z-index:2;background-image:url(data:image/gif;base64,R0lGODlhIAAgAKIAABUjMRYkMhclM0xXYU1YYgAAAAAAAAAAACwAAAAAIAAgAAADKjgjEP4wyklWmzg/IbTPwPWNZGmeaKqubOu+cCzPdG3feK7vfO//wKAwAQA7);background-size:32px;background-repeat:repeat;background-position:16px -8px;color:",";"],(function(t){return t.theme.colors.mono100})),k=u.c.div.withConfig({displayName:"home__FooterText",componentId:"f9hbqs-8"})(["font-size:12px;line-height:20px;font-weight:400;letter-spacing:2px;opacity:0.4;margin-bottom:1rem;margin-right:1rem;"]),j=u.c.img.withConfig({displayName:"home__FooterLogo",componentId:"f9hbqs-9"})(["max-height:64px;max-width:64px;display:inline-block;"]);var P=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.render=function(){var t=this.props,e=t.HeroExample,n=t.theme,i=t.pageContext,a=t.children;return o.a.createElement("main",null,o.a.createElement(r.b,null,(function(t){return function(t){var e=t.config,n=t.theme,r=void 0===n?"dark":n,i=t.HeroExample,a=t.content,s=t.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{colortheme:r},o.a.createElement(w,null,i&&o.a.createElement(i,null)),o.a.createElement(b,null,o.a.createElement(_,null,e.PROJECT_NAME),o.a.createElement("p",null,e.PROJECT_DESC),o.a.createElement(E,{to:e.LINK_TO_GET_STARTED,colortheme:r},"GET STARTED"))),a&&o.a.createElement(x,null,o.a.createElement(y,null,o.a.createElement(c.a,{body:a.body}))),s,"github"===e.PROJECT_TYPE&&o.a.createElement(x,null,o.a.createElement(y,null,o.a.createElement(m,{project:e.PROJECT_ORG+"/"+e.PROJECT_NAME}))),o.a.createElement(O,null,o.a.createElement(y,null,e.PROJECT_ORG_LOGO&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k,null,"Made by"),o.a.createElement(j,{src:""+e.PROJECT_ORG_LOGO,alt:"logo"})))))}({config:t.config,HeroExample:e,theme:n,content:i&&i.content,children:a})})))},i}(i.Component)},Lh7A:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var r=n("q1tI"),i=n.n(r),o=n("rta6"),a=n("OQIT"),s=n("J4mz"),c=n("3oFX");void 0===t||t.navigator||(t.navigator={}),"undefined"!=typeof window&&(window.website=!0);var u={EXAMPLE_NOT_SUPPPORTED:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l={position:"fixed",fontSize:"12px",zIndex:1e4,color:"#fff",background:"#000",padding:"8px",opacity:.8},p=function(t){var e,n;function r(e){var n,r=(n=t.call(this,e)||this).props.AnimationLoop;return n.animationLoop=new r,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var p=r.prototype;return p.componentDidMount=function(){var t=this.props.showStats;this.animationLoop._setDisplay(new a.a),this.animationLoop.start(this.props),t&&this._showStats(this.animationLoop)},p.componentWillUnmount=function(){this.animationLoop.stop(this.props),this.animationLoop.delete(),this.animationLoop=null},p._showStats=function(t){var e=this,n=new s.a(t.stats,{container:this.refs.renderStats,title:"Render Time",css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"CPU Time":"averageTime","GPU Time":"averageTime","Frame Rate":"fps"},resetOnUpdate:{"CPU Time":!0,"GPU Time":!0,"Frame Rate":!0}});o.a.get("Memory Usage").reset();var r=new s.a(o.a.get("Memory Usage"),{container:this.refs.memStats,css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"GPU Memory":"memory","Buffer Memory":"memory","Renderbuffer Memory":"memory","Texture Memory":"memory"}});this.animationFrame=window.requestAnimationFrame((function t(){n.update(),r.update(),e.animationFrame=window.requestAnimationFrame(t)}))},p._stopStats=function(){window.cancelAnimationFrame(this.animationFrame)},p.render=function(){var t=this.props,e=t.pageContext,n=t.panel,r=void 0===n||n,o=t.stats,a=t.sourceLink,s=e&&e.exampleConfig&&e.exampleConfig.title;if(this.animationLoop.isSupported&&!this.animationLoop.isSupported()){var p=this.animationLoop.getAltText?this.animationLoop.getAltText():"THIS EXAMPLE IS NOT SUPPORTED";return i.a.createElement("div",{style:u.EXAMPLE_NOT_SUPPPORTED},i.a.createElement("h2",null," ",p," "))}var f=this.props.AnimationLoop.getInfo()||this.animationLoop.getInfo&&this.animationLoop.getInfo();return i.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},o?i.a.createElement("div",{ref:"stats",className:"stats",style:l},i.a.createElement("div",{ref:"renderStats",className:"renderStats"}),i.a.createElement("div",{ref:"memStats",className:"memStats"})):null,i.a.createElement("canvas",{id:this.props.canvas,style:{width:"100%",height:"100%"}}),r&&i.a.createElement(c.b,{title:s,sourceLink:a},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:f}})))},r}(r.Component);p.defaultProps={canvas:"example-canvas"},p.displayName="AnimationLoop"}).call(this,n("yLpj"))},NKOs:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"j",(function(){return d}));var r=n("vOnD"),i=n("Wbzz"),o=n("k3Yn"),a=(r.c.main.withConfig({displayName:"example__MainExample",componentId:"h9izwc-0"})(["width:100%;height:100%;position:relative;"]),r.c.div.withConfig({displayName:"example__ExampleHeader",componentId:"h9izwc-1"})(["font:",";color:",";margin:0 ",";border-bottom:1px solid ",";display:inline-block;padding:"," "," "," 0;"],(function(t){return t.theme.typography.font500}),(function(t){return t.theme.colors.mono800}),(function(t){return t.theme.sizing.scale700}),(function(t){return t.theme.colors.mono500}),(function(t){return t.theme.sizing.scale700}),(function(t){return t.theme.sizing.scale700}),(function(t){return t.theme.sizing.scale100}))),s=r.c.main.withConfig({displayName:"example__MainExamples",componentId:"h9izwc-2"})(["padding:"," 0;"],(function(t){return t.theme.sizing.scale600})),c=r.c.main.withConfig({displayName:"example__ExamplesGroup",componentId:"h9izwc-3"})(["display:flex;flex-wrap:wrap;padding:",";"],(function(t){return t.theme.sizing.scale600})),u=Object(r.c)(i.a).withConfig({displayName:"example__ExampleCard",componentId:"h9izwc-4"})(["cursor:pointer;text-decoration:none;width:50%;max-width:240px;line-height:0;outline:none;padding:",";position:relative;img{transition-property:filter;transition-duration:",";transition-timing-function:",";}&:hover{box-shadow:",";}&:hover img{filter:contrast(0.2);}","{width:33%;min-width:200px;}@media screen and (max-width:632px){width:50%;}"],(function(t){return t.theme.sizing.scale100}),(function(t){return t.theme.animation.timing400}),(function(t){return t.theme.animation.easeInOutCurve}),(function(t){return t.theme.lighting.shadow600}),o.d),l=r.c.div.withConfig({displayName:"example__ExampleTitle",componentId:"h9izwc-5"})(["position:absolute;display:flex;justify-content:center;flex-direction:column;color:",";font:",";font-size:1.5em;text-align:center;width:90%;height:90%;top:5%;left:5%;border:solid 1px ",";opacity:0;transition-property:opacity;transition-duration:",";transition-timing-function:",";&:hover{opacity:1}"],(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.typography.font300}),(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.animation.timing400}),(function(t){return t.theme.animation.easeInOutCurve})),p=r.c.div.withConfig({displayName:"example__PanelContainer",componentId:"h9izwc-6"})(["font:",";position:absolute;top:0;right:0;width:344px;background:",";box-shadow:",";margin:",";padding:"," ",";max-height:96%;overflow-x:hidden;overflow-y:auto;overflow-y:overlay;outline:none;z-index:1;","{width:auto;left:0;}"],(function(t){return t.theme.typography.font300}),(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.lighting.shadow400}),(function(t){return t.theme.sizing.scale800}),(function(t){return t.theme.sizing.scale400}),(function(t){return t.theme.sizing.scale800}),o.d),f=r.c.div.withConfig({displayName:"example__PanelExpander",componentId:"h9izwc-7"})(["display:none;width:",";height:",";font-family:serif;font-size:0.8em;text-align:center;line-height:",";border-radius:50%;background:",";color:",";","{display:block;}"],(function(t){return t.theme.sizing.scale600}),(function(t){return t.theme.sizing.scale600}),(function(t){return t.theme.sizing.scale600}),(function(t){return t.$expanded?"none":t.theme.colors.mono900}),(function(t){return t.$expanded?t.theme.colors.mono1000:t.theme.colors.mono100}),o.d),h=r.c.div.withConfig({displayName:"example__PanelTitle",componentId:"h9izwc-8"})(["display:flex;align-items:center;justify-content:space-between;font:",";margin:"," 0;","{cursor:pointer;}"],(function(t){return t.theme.typography.font450}),(function(t){return t.theme.sizing.scale300}),o.d),m=r.c.div.withConfig({displayName:"example__PanelContent",componentId:"h9izwc-9"})(["div >*{vertical-align:middle;white-space:nowrap;}div >label{display:inline-block;width:40%;margin-right:10%;color:",";margin-top:2px;margin-bottom:2px;}div >input,div >a,div >button,div >select{background:",";font:",";line-height:",";text-transform:none;text-overflow:ellipsis;overflow:hidden;display:inline-block;padding:0 ",";width:50%;height:",";text-align:left;}div >button{color:initial;}div >button:disabled{color:",";cursor:default;background:",";}div >input{border:",";&:disabled{background:",';}&[type="checkbox"]{height:auto;}}p{margin-bottom:',";white-space:initial;}","{display:",";}"],(function(t){return t.theme.colors.momo800}),(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.typography.font100}),(function(t){return t.theme.sizing.scale700}),(function(t){return t.theme.sizing.scale100}),(function(t){return t.theme.sizing.scale700}),(function(t){return t.theme.colors.mono300}),(function(t){return t.theme.colors.mono300}),(function(t){return t.theme.borders.border300}),(function(t){return t.theme.colors.mono100}),(function(t){return t.theme.sizing.scale600}),o.d,(function(t){return t.$expanded?"block":"none"})),d=r.c.a.withConfig({displayName:"example__SourceLink",componentId:"h9izwc-10"})(["display:block;text-align:right;margin-top:",";font:",";color:",";","{display:",";}"],(function(t){return t.theme.sizing.scale300}),(function(t){return t.theme.typography.font250}),(function(t){return t.theme.colors.mono800}),o.d,(function(t){return t.$expanded?"block":"none"}))},OQIT:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n("n7j8");var r=n("kD0k"),i=n.n(r),o=n("/S4K"),a=n("QDMQ"),s=n("L6So"),c=n("uRdJ"),u=n("Ccfo"),l=n("zs32"),p=n("ls4f"),f=n("x364"),h=n("iein"),m=(n("m210"),n("4DPX"),n("rzGZ"),n("oCue"));function d(t){var e=t.canvas,n=t.title,r=e.getBoundingClientRect(),i=r.top,o=r.left,a=r.width,s=r.height,c=document.createElement("div");c.style.position="absolute",c.style.top="".concat(i,"px"),c.style.left="".concat(o,"px"),c.style.width="".concat(a,"px"),c.style.height="".concat(s,"px"),c.style.pointerEvents="none",c.style.zIndex="999",document.body.appendChild(c);var u=document.createElement("button");return u.style.padding="16px",u.style.border="1px solid #fff",u.style.borderRadius="8px",u.style.background="rgba(0,0,0,0.5)",u.style.color="#fff",u.style.font="normal 20px sans-serif",u.style.cursor="pointer",u.style.margin="20px auto",u.style.display="block",u.style.pointerEvents="all",u.textContent=n,c.appendChild(u),u}var v=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this,t)))._vrSupported=e.isSupported(),n._vrSupported&&(n.vrFrameData=new window.VRFrameData,n.vrPresenting=!1,n.vrFrame=!1,window.addEventListener("vrdisplaypresentchange",n._vrDisplayPresentChange.bind(Object(c.a)(n)))),n}var n;return Object(f.a)(e,t),Object(p.a)(e,null,[{key:"isSupported",value:function(){return"undefined"!=typeof navigator&&"getVRDisplays"in navigator&&"VRFrameData"in window}}]),Object(p.a)(e,[{key:"delete",value:function(){Object(l.a)(Object(u.a)(e.prototype),"delete",this).call(this),this._removeVRButton()}},{key:"getViews",value:function(t){if(this._vrSupported&&this._addVRButton(),this.vrPresenting&&this.vrFrame){this.vrDisplay.getFrameData(this.vrFrameData);var n=this.vrFrameData,r=n.leftProjectionMatrix,i=n.leftViewMatrix,o=n.rightProjectionMatrix,a=n.rightViewMatrix,s=t.width,c=t.height;return[{displayEye:"left",projectionMatrix:r,viewMatrix:i,params:{viewport:[0,0,.5*s,c],scissor:[0,0,.5*s,c],scissorTest:!0}},{displayEye:"right",projectionMatrix:o,viewMatrix:a,params:{viewport:[.5*s,0,.5*s,c],scissor:[.5*s,0,.5*s,c],scissorTest:!0}}]}return Object(l.a)(Object(u.a)(e.prototype),"getViews",this).call(this,t)}},{key:"submitFrame",value:function(){return!(!this.vrPresenting||!this.vrFrame)&&(this.vrDisplay.submitFrame(),!0)}},{key:"requestAnimationFrame",value:function(t){var e=this;return!!this.vrPresenting&&(this.vrDisplay.requestAnimationFrame((function(){e.vrFrame=!0,t(),e.vrFrame=!1})),!0)}},{key:"_addVRButton",value:(n=Object(o.a)(i.a.mark((function t(){var e,n,r=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vrButton){t.next=2;break}return t.abrupt("return");case 2:if(e=this._getCanvas()){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,navigator.getVRDisplays();case 7:(n=t.sent)&&n.length&&(h.g.info(2,"Found VR Displays",n)(),this.vrDisplay=n[0],this.vrButton=d({canvas:e,title:"Enter VR (".concat(this.vrDisplay.displayName,")")}),this.vrButton.onclick=function(){return r._startDisplay()});case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_getCanvas",value:function(){return this.animationLoop.canvas||this.animationLoop.gl&&this.animationLoop.gl.canvas}},{key:"_removeVRButton",value:function(){this.vrButton}},{key:"_startDisplay",value:function(){this.vrDisplay.requestPresent([{source:this._getCanvas()}])}},{key:"_vrDisplayPresentChange",value:function(){this.vrDisplay.isPresenting?(h.g.info(2,"Entering VR")(),this.vrPresenting=!0,this.vrButton.style.display="none"):(h.g.info(2,"Exiting VR")(),this.vrPresenting=!1,this.vrButton.style.display="block")}}]),e}(function(){function t(){Object(a.a)(this,t)}return Object(p.a)(t,[{key:"getViews",value:function(t){var e=t.width,n=t.height;return[{params:{viewport:[0,0,e,n],scissor:[0,0,e,n],scissorTest:!0}}]}},{key:"submitFrame",value:function(){return!0}},{key:"requestAnimationFrame",value:function(t){return!1}},{key:"delete",value:function(){}},{key:"_renderFrame",value:function(t){var e=this,n=this.getViews(t);if(!n)return!1;var r=this.animationLoop.gl,i=!0,o=!1,a=void 0;try{for(var s,c=function(){var n=s.value;Object(h.k)(r,n.params,(function(){return e.animationLoop.onRender(Object(m.a)({},t,n))}))},u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)c()}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return this.submitFrame(),!0}}]),t}())},Rfpw:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Ut}));n("E5k/");var r=n("q1tI"),i=n.n(r),o=n("Lh7A"),a=(n("6kNP"),n("8npG"),n("pJf4"),n("YbXK"),n("cFtU"),n("kD0k")),s=n.n(a),c=(n("wcNg"),n("24Wh")),u=n("yx+g"),l=n("R5E3"),p=n.n(l),f=n("iein"),h=n("pRFE"),m=n("rta6"),d=n("hQ05"),v=(n("JHok"),n("FqMR")),g=n("QDMQ"),y=n("ls4f"),b=n("H50b"),w=n("f5Sf"),x=(n("xtjI"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("Ggvi"),n("QNMc"),n("ACG/")),_=n("5M2o"),E=n("Hc3x"),O=n("MaPr");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e,n){var r=t;"function"==typeof t&&(r=t(j(j({},e),n))),Object(x.a)("string"==typeof r);var i=e.baseUrl;return i&&(r="/"===i[i.length-1]?""+i+r:i+"/"+r),Object(O.b)(r)}function C(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function T(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){C(o,r,i,a,s,"next",t)}function s(t){C(o,r,i,a,s,"throw",t)}a(void 0)}))}}var D=function(t){return t&&"object"==typeof t};function L(t,e,n){return A.apply(this,arguments)}function A(){return(A=T(s.a.mark((function t(e,n,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),t.next=3,M(e,n,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t,e,n){return F.apply(this,arguments)}function F(){return(F=T(s.a.mark((function t(e,n,r){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(e)){t.next=4;break}return t.next=3,z(e,n,r);case 3:return t.abrupt("return",t.sent);case 4:if(!D(e)){t.next=8;break}return t.next=7,R(e,n,r);case 7:return t.abrupt("return",t.sent);case 8:return i=e,t.next=11,n(i,r);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t,e,n){return I.apply(this,arguments)}function I(){return(I=T(s.a.mark((function t(e,n,r){var i,o,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c in i=[],o={},a=function(t){var a=M(e[t],n,r).then((function(e){o[t]=e}));i.push(a)},e)a(c);return t.next=6,Promise.all(i);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t,e,n){return B.apply(this,arguments)}function B(){return(B=T(s.a.mark((function t(e,n,r){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),i=e.map((function(t){return M(t,n,r)})),t.next=4,Promise.all(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function U(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){N(o,r,i,a,s,"next",t)}function s(t){N(o,r,i,a,s,"throw",t)}a(void 0)}))}}function G(t,e,n){return V.apply(this,arguments)}function V(){return(V=U(s.a.mark((function t(e,n,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e,(function(t){return q(t,n,r)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t,e,n){return X.apply(this,arguments)}function X(){return(X=U(s.a.mark((function t(e,n,r){var i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,r.fetch);case 2:return i=t.sent,t.next=5,i.arrayBuffer();case 5:return o=t.sent,t.next=8,n(o,r);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function Q(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){K(o,r,i,a,s,"next",t)}function s(t){K(o,r,i,a,s,"throw",t)}a(void 0)}))}}function W(t,e){return $.apply(this,arguments)}function $(){return($=Q(s.a.mark((function t(e,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.next=3,Z(e,n);case 3:return r=t.sent,t.next=6,G(r,_.a,n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t,e,n){return tt.apply(this,arguments)}function tt(){return(tt=Q(s.a.mark((function t(e,n,r){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r={}),0===(i=n&&n.image&&n.image.mipLevels||0)){t.next=8;break}return t.next=5,et(e,i,n,r);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=S(e,n,r);case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(t,e,n,r){return nt.apply(this,arguments)}function nt(){return(nt=Q(s.a.mark((function t(e,n,r,i){var o,a,c,u,l,p,f,h;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[],"auto"!==n){t.next=9;break}return a=S(e,r,H(H({},i),{},{lod:0})),t.next=5,q(a,_.a,r);case 5:c=t.sent,u=Object(E.b)(c),l=u.width,p=u.height,n=rt({width:l,height:p}),o.push(a);case 9:for(Object(x.a)(n>0),f=o.length;f<n;++f)h=S(e,r,H(H({},i),{},{lod:f})),o.push(h);return t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t){var e=t.width,n=t.height;return 1+Math.floor(Math.log2(Math.max(e,n)))}var it=function(){function t(e,n){var r=n.brdfLutUrl,i=n.getTexUrl,o=n.specularMipLevels,a=void 0===o?10:o;Object(g.a)(this,t),this.gl=e,this.brdfLutUrl=r,this.getTexUrl=i,this.specularMipLevels=a}return Object(y.a)(t,[{key:"makeCube",value:function(t){var e=t.id,n=t.getTextureForFace,r=t.parameters,i={};return b.a.FACES.forEach((function(t){i[t]=n(t)})),new b.a(this.gl,{id:e,mipmaps:!1,parameters:r,pixels:i})}},{key:"getDiffuseEnvSampler",value:function(){var t,e=this;this._DiffuseEnvSampler||(this._DiffuseEnvSampler=this.makeCube({id:"DiffuseEnvSampler",getTextureForFace:function(t){return W(e.getTexUrl("diffuse",t,0))},parameters:(t={},Object(v.a)(t,10242,33071),Object(v.a)(t,10243,33071),Object(v.a)(t,10241,9729),Object(v.a)(t,10240,9729),t)}));return this._DiffuseEnvSampler}},{key:"getSpecularEnvSampler",value:function(){var t,e=this;this._SpecularEnvSampler||(this._SpecularEnvSampler=this.makeCube({id:"SpecularEnvSampler",getTextureForFace:function(t){for(var n=[],r=0;r<=e.specularMipLevels-1;r++)n.push(W(e.getTexUrl("specular",t,r)));return n},parameters:(t={},Object(v.a)(t,10242,33071),Object(v.a)(t,10243,33071),Object(v.a)(t,10241,9987),Object(v.a)(t,10240,9729),t)}));return this._SpecularEnvSampler}},{key:"getBrdfTexture",value:function(){var t;this._BrdfTexture||(this._BrdfTexture=new w.a(this.gl,{id:"brdfLUT",parameters:(t={},Object(v.a)(t,10242,33071),Object(v.a)(t,10243,33071),Object(v.a)(t,10241,9729),Object(v.a)(t,10240,9729),t),data:W(this.brdfLutUrl)}));return this._BrdfTexture}},{key:"delete",value:function(){this._DiffuseEnvSampler&&(this._DiffuseEnvSampler.delete(),this._DiffuseEnvSampler=null),this._SpecularEnvSampler&&(this._SpecularEnvSampler.delete(),this._SpecularEnvSampler=null),this._BrdfTexture&&(this._BrdfTexture.delete(),this._BrdfTexture=null)}}]),t}(),ot=(n("cxuS"),n("NY3r"));function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function lt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ut(o,r,i,a,s,"next",t)}function s(t){ut(o,r,i,a,s,"throw",t)}a(void 0)}))}}function pt(t,e,n){return ft.apply(this,arguments)}function ft(){return(ft=lt(s.a.mark((function t(e,n,r){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(ot.a)(e,n,r),!r.waitForFullLoad){t.next=4;break}return t.next=4,ht(i);case 4:return t.abrupt("return",st(st({},i),{},{gltf:n}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t){return mt.apply(this,arguments)}function mt(){return(mt=lt(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e.scenes.forEach((function(t){t.traverse((function(t){Object.values(t.model.program.uniforms).forEach((function(t){!1===t.loaded&&n.push(t)}))}))})),t.next=4,dt((function(){return n.some((function(t){return!t.loaded}))}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(t){return vt.apply(this,arguments)}function vt(){return(vt=lt(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e()){t.next=5;break}return t.next=3,new Promise((function(t){return requestAnimationFrame(t)}));case 3:t.next=0;break;case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var gt=n("c9N0");function yt(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function bt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){yt(o,r,i,a,s,"next",t)}function s(t){yt(o,r,i,a,s,"throw",t)}a(void 0)}))}}var wt="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/",xt=wt+"model-index.json",_t="https://raw.githubusercontent.com/uber-common/deck.gl-data/master/luma.gl/examples/gltf/",Et="DamagedHelmet/glTF-Binary/DamagedHelmet.glb";function Ot(){return kt.apply(this,arguments)}function kt(){return(kt=bt(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(xt).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n("HQhv"),n("v9g0");function jt(t,e){var n=document.getElementById("modelSelector");if(n){var r=["glTF-Draco","glTF-Binary","glTF-Embedded","glTF"];t.forEach((function(t){var e=t.name,i=t.variants,o=r.find((function(t){return i[t]})),a=document.createElement("option");a.text=e+" ("+o+")",a.value=e+"/"+o+"/"+i[o],n.appendChild(a)})),n.onchange=function(t){var r=n&&n.value||Et;e(wt+"/"+r)}}}function Pt(t){var e=document.getElementById("showSelector");e&&(e.onchange=function(n){var r=e.value.split(" ").map((function(t){return parseFloat(t)}));t({u_ScaleDiffBaseMR:r.slice(0,4),u_ScaleFGDSpec:r.slice(4)})});var n=document.getElementById("lightSelector");n&&(n.onchange=function(e){t({light:n.value})})}function St(t){var e=document.getElementById("iblSelector");e&&(e.onchange=function(n){t(function(t){switch(t){case"exclusive":return{imageBasedLightingEnvironment:!0,lights:!1};case"addition":return{imageBasedLightingEnvironment:!0,lights:!0};case"off":return{imageBasedLightingEnvironment:null,lights:!0};default:return{}}}(e.value))})}var Ct='\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Model<br/>\n  <select id="modelSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="'+Et+'">Default</option>\n  </select>\n  <br>\n</div>\n<div>\n  Show<br/>\n  <select id="showSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights<br/>\n  <select id="lightSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light<br/>\n  <select id="iblSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br/>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n',Tt={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}};function Dt(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}var Lt,At=function(){function t(t,e){var n=void 0===e?{}:e,r=n.initialZoom,i=void 0===r?2:r,o=n.onDrop,a=void 0===o?function(t){}:o;this.mouse={lastX:0,lastY:0},this.translate=i,this.rotation=[0,0],this.rotationStart=[0,0],this.rotationAnimation=!0,this.onDrop=a,this._initializeEventHandling(t)}var e=t.prototype;return e.animate=function(t){this.rotationAnimation&&(this.rotation[1]=t/3600)},e.getMatrices=function(){var t=this.rotation,e=t[0],n=t[1];return{cameraPosition:[-this.translate*Math.sin(n)*Math.cos(-e),-this.translate*Math.sin(-e),this.translate*Math.cos(n)*Math.cos(-e)],viewMatrix:(new gt.a).translate([0,0,-this.translate]).rotateX(e).rotateY(n)}},e._initializeEventHandling=function(t){var e=this;t.onwheel=function(t){e.translate+=t.deltaY/10,e.translate<.1&&(e.translate=.1),t.preventDefault()},t.onpointerdown=function(n){e.mouse.lastX=n.clientX,e.mouse.lastY=n.clientY,e.rotationStart[0]=e.rotation[0],e.rotationStart[1]=e.rotation[1],t.setPointerCapture(n.pointerId),n.preventDefault(),e.rotationAnimation=!1},t.onpointermove=function(t){if(t.buttons){var n=t.clientX-e.mouse.lastX,r=t.clientY-e.mouse.lastY;e.rotation[0]=e.rotationStart[0]+r/100,e.rotation[1]=e.rotationStart[1]+n/100}},t.ondragover=function(t){t.dataTransfer.dropEffect="link",t.preventDefault()},t.ondrop=function(){var t,n=(t=s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),n.dataTransfer.files&&1===n.dataTransfer.files.length&&(r=n.dataTransfer.files[0],e.onDrop(r));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Dt(o,r,i,a,s,"next",t)}function s(t){Dt(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}()},t}();function Mt(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function Ft(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Mt(o,r,i,a,s,"next",t)}function s(t){Mt(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var It=((Lt={})[p.a.TEXTURE_CUBE_MAP_POSITIVE_X]="right",Lt[p.a.TEXTURE_CUBE_MAP_NEGATIVE_X]="left",Lt[p.a.TEXTURE_CUBE_MAP_POSITIVE_Y]="top",Lt[p.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]="bottom",Lt[p.a.TEXTURE_CUBE_MAP_POSITIVE_Z]="front",Lt[p.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]="back",Lt),zt=function(t){var e,n;n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.getInfo=function(){return Ct};var r=i.prototype;function i(e){var n,r=(void 0===e?{}:e).modelFile,i=void 0===r?null:r;return(n=t.call(this)||this).scenes=[],n.animator=null,n.gl=null,n.modelFile=i,n.glOptions={alpha:!1},n.controller=null,n.u_ScaleDiffBaseMR=[0,0,0,0],n.u_ScaleFGDSpec=[0,0,0,0],n.onInitialize=n.onInitialize.bind(Rt(n)),n.onRender=n.onRender.bind(Rt(n)),n}return r.getInfo=function(){return Ct},r.onInitialize=function(){var t=Ft(s.a.mark((function t(e){var n,r,i,o=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.gl,r=e.canvas,Object(f.j)(n,{depthTest:!0,blend:!1}),this.controller=new At(r,{initialZoom:2,onDrop:function(t){return o._loadGLTF(t)}}),this.gltfCreateOptions={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1},this.environment=new it(n,{brdfLutUrl:_t+"/brdfLUT.png",getTexUrl:function(t,e,n){return _t+"/papermill/"+t+"/"+t+"_"+It[e]+"_"+n+".jpg"}}),this.gltfCreateOptions.imageBasedLightingEnvironment=this.environment,this.gl=n,!this.modelFile){t.next=12;break}return t.next=10,this._loadGLTF(this.modelFile,{pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0});case 10:t.next=19;break;case 12:return t.next=14,Ot();case 14:return jt(t.sent,function(){var t=Ft(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o._deleteScenes(),t.next=3,o._loadGLTF(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a=void 0,c=void 0,a=document.getElementById("modelSelector"),c=a&&a.value||Et,i=wt+"/"+c,t.next=19,this._loadGLTF(i);case 19:Pt((function(t){Object.assign(o,t)})),St((function(t){Object.assign(o.gltfCreateOptions,t),o.gltfCreateOptions.imageBasedLightingEnvironment&&(o.gltfCreateOptions.imageBasedLightingEnvironment=o.environment),o._rebuildModel()}));case 21:case"end":return t.stop()}var a,c}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.onRender=function(t){var e=this,n=t.gl,r=t.time,i=t.aspect,o=t.viewMatrix,a=t.projectionMatrix;Object(h.a)(n,{color:[.2,.2,.2,1],depth:!0}),this.controller.animate(r);var s=this.controller.getMatrices(),c=new gt.a(o?Array.from(o):null);c.multiplyRight(s.viewMatrix);var u=a?new gt.a(Array.from(a)):(new gt.a).perspective({fov:Object(gt.h)(40),aspect:i,near:.01,far:9e3});if(!this.scenes.length)return!1;this.animator&&this.animator.animate(r);var l=!0;return this.scenes[0].traverse((function(t,n){var r=n.worldMatrix,i=new gt.a(u).multiplyRight(c).multiplyRight(r);e._applyLight(t),l=l&&t.draw({uniforms:{u_Camera:s.cameraPosition,u_MVPMatrix:i,u_ModelMatrix:r,u_NormalMatrix:new gt.a(r).invert().transpose(),u_ScaleDiffBaseMR:e.u_ScaleDiffBaseMR,u_ScaleFGDSpec:e.u_ScaleFGDSpec},parameters:t.props.parameters})})),l},r._loadGLTF=function(){var t=Ft(s.a.mark((function t(e){var n,r,i,o,a,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.gl,this._deleteScenes(),t.next=4,Object(c.a)(e,u.a);case 4:return r=t.sent,t.next=7,pt(n,r,this.gltfCreateOptions);case 7:i=t.sent,o=i.gltf,a=i.scenes,l=i.animator,this.scenes=a,this.animator=l,this.gltf=o;case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r._rebuildModel=function(){(this.gltf.meshes||[]).forEach((function(t){return delete t._mesh})),(this.gltf.nodes||[]).forEach((function(t){return delete t._node})),(this.gltf.bufferViews||[]).forEach((function(t){return delete t.lumaBuffers})),this._deleteScenes(),Object.assign(this,pt(this.gl,this.gltf,this.gltfCreateOptions))},r._deleteScenes=function(){this.scenes.forEach((function(t){return t.delete()})),this.scenes=[],m.a.get("Resource Counts").forEach((function(t){var e=t.name,n=t.count;f.g.info(3,e+": "+n)()}))},r._applyLight=function(t){t.updateModuleSettings({lightSources:Tt[this.light||"default"]})},i}(d.a);if("undefined"!=typeof window&&!window.website){var Bt=new zt;Bt.start();var Nt=document.createElement("div");Nt.innerHTML=Bt.getInfo(),document.body.appendChild(Nt)}var Ut=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){return i.a.createElement(o.a,Object.assign({AnimationLoop:zt},this.props))},r}(i.a.Component)}}]);